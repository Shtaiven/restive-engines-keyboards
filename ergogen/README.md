# Ergogen configuration files

This folder contains the input and ouputs of ergogen to generate the shockboard layout.

## Note on compatibility

Ergogen v4.0.0 introduced breaking changes to configuration. Config files will only work with ergogen >= v4.0.0.

## Generating layouts

Due to the use of custom footprints, [ergogen](ergogen.xyz) must be installed locally and the online versions can't be used.
Before running anything below, ensure [npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm) is installed on your system.

```shell
npm install -g ergogen@4
```

Output folders and are generated by calling ergogen in one of the revision folders e.g.

```shell
cd ergogen/shockboard_v1
ergogen .
```

The unrouted pcbs can then be found in the `output/pcbs` folder.

## Generating STLs

The ergogen config generates some cases in jscad format. Before converting these to STL files [jscad/cli](https://github.com/jscad/OpenJSCAD.org) must be installed.

```shell
npm install -g @jscad/cli
```

To generate the STLs, run the following from one of the revision folders (e.g. `shockboard_v1`)

```shell
for i in output/cases/*.jscad; do npx @jscad/cli@1 "$i" -of stla; done
```

The STLs can then be found in the `outpud/cases` folder.
